<!DOCTYPE html>
<html>
<head>
<title>Kankor App</title>
<link href="styles/icon.css" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="styles/materialize.min.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="styles/myStyles.css">
<script src="scripts/angular.min.js"></script>
<script src="scripts/myScript.js"></script>
<script src="scripts/db.js"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
<div id='header_holder'>
</div>
<nav id='header'>
  <a href='index.html'>صفحه اصلی</a> |
  <a href='builder.php'>ساخت سوال</a> |
  <a href='questionnaire.php'>پرسشنامه</a> |
  <a href='about.php'>درباره ما</a>
</nav>
<ol id="questionSet"></ol>
<!-- Modal Trigger -->
<a class="waves-effect waves-light btn modal-trigger" href="#modal1" onclick="check()">نمایش نتایج</a>

<!-- Modal Structure -->
<div id="modal1" class="modal">
<div class="modal-content">
  <h4>نتیجه شما:</h4>
  <p id="result_sheet">نمره</p>
</div>
<div class="modal-footer">
  <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
</div>
</div>
<script>
for(i = 0; i < questions.length; i++){
  document.getElementById("questionSet").innerHTML += 
  "<li id = 'question" + i + "'>" + questions[i].question +
  "<label><input type = 'radio' name = 'question" + i + "' id = 'question" + i + "a'><span>" + questions[i].choice_a + "</span></label>" +
  "<label><input type = 'radio' name = 'question" + i + "' id = 'question" + i + "b'><span>" + questions[i].choice_b + "</span></label>" +
  "<label><input type = 'radio' name = 'question" + i + "' id = 'question" + i + "c'><span>" + questions[i].choice_c + "</span></label>" +
  "<label><input type = 'radio' name = 'question" + i + "' id = 'question" + i + "d'><span>" + questions[i].choice_d + "</span></label>" + "</li>"
}
function check(){
  var result = 0;
  for(i = 0; i < questions.length; i++){
    if(questions[i].answer == 1 && document.getElementById("question" + i +"a").checked == true) result +=1;
    else if(questions[i].answer == 2 && document.getElementById("question" + i +"b").checked == true) result +=1;
    else if(questions[i].answer == 3 && document.getElementById("question" + i +"c").checked == true) result +=1;
    else if(questions[i].answer == 4 && document.getElementById("question" + i +"d").checked == true) result +=1;
  }
  document.getElementById("result_sheet").innerHTML = result;
}
//Modals trigger
document.addEventListener('DOMContentLoaded', function() {
  var elems = document.querySelectorAll('.modal');
  var instances = M.Modal.init(elems, opacity = 0.5);
});
</script>
<script type="text/javascript" src="scripts/materialize.min.js"></script>
</body>
</html>